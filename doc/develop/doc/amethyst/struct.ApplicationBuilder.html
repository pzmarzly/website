<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `ApplicationBuilder` struct in crate `amethyst`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, ApplicationBuilder">

    <title>amethyst::ApplicationBuilder - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <a href='../amethyst/index.html'><img src='https://tinyurl.com/jtmm43a' alt='logo' width='100'></a>
        <p class='location'>Struct ApplicationBuilder</p><div class="block items"><ul><li><a href="#fields">Fields</a></li><li><a href="#methods">Methods</a></li></ul></div><p class='location'><a href='index.html'>amethyst</a></p><script>window.sidebarCurrent = {name: 'ApplicationBuilder', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>amethyst</a>::<wbr><a class="struct" href=''>ApplicationBuilder</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/amethyst/app.rs.html#233-241' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct ApplicationBuilder&lt;'a, 'b, T&gt; {
    pub world: <a class="struct" href="../amethyst/prelude/struct.World.html" title="struct amethyst::prelude::World">World</a>,
    // some fields omitted
}</pre><div class='docblock'><p><code>ApplicationBuilder</code> is an interface that allows for creation of an <a href="struct.Application.html"><code>Application</code></a>
using a custom set of configuration. This is the normal way an <a href="struct.Application.html"><code>Application</code></a>
object is created.</p>
</div><h2 id='fields' class='fields small-section-header'>
                       Fields<a href='#fields' class='anchor'></a></h2><span id="structfield.world" class="structfield small-section-header">
                           <a href="#structfield.world" class="anchor field"></a>
                           <span id="world.v" class='invisible'>
                           <code>world: <a class="struct" href="../amethyst/prelude/struct.World.html" title="struct amethyst::prelude::World">World</a></code>
                           </span></span><div class='docblock'><p>Used by bundles to access the world directly</p>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><code>impl&lt;'a, 'b, T&gt; <a class="struct" href="../amethyst/struct.ApplicationBuilder.html" title="struct amethyst::ApplicationBuilder">ApplicationBuilder</a>&lt;'a, 'b, T&gt;</code><a href='#impl' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#243-874' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>pub fn <a href='#method.new' class='fnname'>new</a>&lt;P:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.Path.html" title="struct std::path::Path">Path</a>&gt;&gt;(path: P, initial_state: T) -&gt; <a class="type" href="../amethyst/type.Result.html" title="type amethyst::Result">Result</a>&lt;Self&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#306-335' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Creates a new <a href="struct.ApplicationBuilder.html">ApplicationBuilder</a> instance
that wraps the initial_state. This is the more verbose way of initializing
your application if you require specific configuration details to be changed
away from the default.</p>

<h1 id='parameters' class='section-header'><a href='#parameters'>Parameters</a></h1>
<ul>
<li><code>initial_state</code>: The initial State handler of your game. See
<a href="trait.State.html">State</a> for more information on what this is.</li>
</ul>

<h1 id='returns' class='section-header'><a href='#returns'>Returns</a></h1>
<p>Returns a <code>Result</code> type wrapping the <code>Application</code> type. See
<a href="struct.Application.html#errors">errors</a> for a full list of
possible errors that can happen in the creation of a Application object.</p>

<h1 id='type-parameters' class='section-header'><a href='#type-parameters'>Type parameters</a></h1>
<ul>
<li><code>S</code>: A type that implements the <code>State</code> trait. e.g. Your initial
   game logic.</li>
</ul>

<h1 id='lifetimes' class='section-header'><a href='#lifetimes'>Lifetimes</a></h1>
<ul>
<li><code>a</code>: The lifetime of the <code>State</code> objects.</li>
<li><code>b</code>: This lifetime is inherited from <code>specs</code> and <code>shred</code>, it is
   the minimum lifetime of the systems used by <code>Application</code></li>
</ul>

<h1 id='errors' class='section-header'><a href='#errors'>Errors</a></h1>
<p>Application will return an error if the internal threadpool fails
to initialize correctly because of systems resource limitations</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">core</span>::<span class="ident">transform</span>::{<span class="ident">Parent</span>, <span class="ident">LocalTransform</span>, <span class="ident">TransformSystem</span>};

<span class="kw">struct</span> <span class="ident">NullState</span>;
<span class="kw">impl</span> <span class="ident">State</span> <span class="kw">for</span> <span class="ident">NullState</span> {}

<span class="comment">// initialize the builder, the `ApplicationBuilder` object</span>
<span class="comment">// follows the use pattern of most builder objects found</span>
<span class="comment">// in the rust ecosystem. Each function modifies the object</span>
<span class="comment">// returning a new object with the modified configuration.</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">game</span> <span class="op">=</span> <span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;assets/&quot;</span>, <span class="ident">NullState</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to initialize&quot;</span>)

<span class="comment">// components can be registered at this stage</span>
    .<span class="ident">register</span>::<span class="op">&lt;</span><span class="ident">Parent</span><span class="op">&gt;</span>()
    .<span class="ident">register</span>::<span class="op">&lt;</span><span class="ident">LocalTransform</span><span class="op">&gt;</span>()

<span class="comment">// systems can be added before the game is run</span>
    .<span class="ident">with</span>::<span class="op">&lt;</span><span class="ident">TransformSystem</span><span class="op">&gt;</span>(<span class="ident">TransformSystem</span>::<span class="ident">new</span>(), <span class="string">&quot;transform_system&quot;</span>, <span class="kw-2">&amp;</span>[])

<span class="comment">// lastly we can build the Application object</span>
    .<span class="ident">build</span>()
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to create Application&quot;</span>);

<span class="comment">// the game instance can now be run, this exits only when the game is done</span>
<span class="ident">game</span>.<span class="ident">run</span>();</pre>
</div><h4 id='method.register' class="method"><span id='register.v' class='invisible'><code>pub fn <a href='#method.register' class='fnname'>register</a>&lt;C&gt;(self) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: Component,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#386-392' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Registers a component into the entity-component-system. This method
takes no options other than the component type which is defined
using a &#39;turbofish&#39;. See the example for what this looks like.</p>

<p>You must register a component type before it can be used. If
code accesses a component that has not previously been registered
it will <code>panic</code>.</p>

<h1 id='type-parameters-1' class='section-header'><a href='#type-parameters-1'>Type Parameters</a></h1>
<ul>
<li><code>C</code>: The Component type that you are registering. This must
   implement the <code>Component</code> trait to be registered.</li>
</ul>

<h1 id='returns-1' class='section-header'><a href='#returns-1'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it</p>

<h1 id='examples-1' class='section-header'><a href='#examples-1'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">ecs</span>::{<span class="ident">Component</span>, <span class="ident">HashMapStorage</span>};

<span class="kw">struct</span> <span class="ident">NullState</span>;
<span class="kw">impl</span> <span class="ident">State</span> <span class="kw">for</span> <span class="ident">NullState</span> {}

<span class="comment">// define your custom type for the ECS</span>
<span class="kw">struct</span> <span class="ident">Velocity</span>([<span class="ident">f32</span>; <span class="number">3</span>]);

<span class="comment">// the compiler must be told how to store every component, `Velocity`</span>
<span class="comment">// in this case. This is done via The `amethyst::ecs::Component` trait.</span>
<span class="kw">impl</span> <span class="ident">Component</span> <span class="kw">for</span> <span class="ident">Velocity</span> {
    <span class="comment">// To do this the `Component` trait has an associated type</span>
    <span class="comment">// which is used to associate the type back to the container type.</span>
    <span class="comment">// There are a few common containers, VecStorage and HashMapStorage</span>
    <span class="comment">// are the most common used.</span>
    <span class="comment">//</span>
    <span class="comment">// See the documentation on the specs::Storage trait for more information.</span>
    <span class="comment">// https://docs.rs/specs/0.9.5/specs/struct.Storage.html</span>
    <span class="kw">type</span> <span class="ident">Storage</span> <span class="op">=</span> <span class="ident">HashMapStorage</span><span class="op">&lt;</span><span class="ident">Velocity</span><span class="op">&gt;</span>;
}

<span class="comment">// After creating a builder, we can add any number of components</span>
<span class="comment">// using the register method.</span>
<span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;assets/&quot;</span>, <span class="ident">NullState</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to initialize&quot;</span>)
    .<span class="ident">register</span>::<span class="op">&lt;</span><span class="ident">Velocity</span><span class="op">&gt;</span>();</pre>
</div><h4 id='method.with_resource' class="method"><span id='with_resource.v' class='invisible'><code>pub fn <a href='#method.with_resource' class='fnname'>with_resource</a>&lt;R&gt;(self, resource: R) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: Resource,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#438-444' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Adds the supplied ECS resource which can be accessed from game systems.</p>

<p>Resources are common data that is shared with one or more game system.</p>

<p>If a resource is added with the identical type as an existing resource,
the new resource will replace the old one and the old resource will
be dropped.</p>

<h1 id='parameters-1' class='section-header'><a href='#parameters-1'>Parameters</a></h1>
<ul>
<li><code>resource</code>: The initialized resource you wish to register</li>
</ul>

<h1 id='type-parameters-2' class='section-header'><a href='#type-parameters-2'>Type Parameters</a></h1>
<ul>
<li><code>R</code>: <code>resource</code> must implement the <code>Resource</code> trait. This trait will
 be automatically implemented if <code>Any</code> + <code>Send</code> + <code>Sync</code> traits
 exist for type <code>R</code>.</li>
</ul>

<h1 id='returns-2' class='section-header'><a href='#returns-2'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it.</p>

<h1 id='examples-2' class='section-header'><a href='#examples-2'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;

<span class="kw">struct</span> <span class="ident">NullState</span>;
<span class="kw">impl</span> <span class="ident">State</span> <span class="kw">for</span> <span class="ident">NullState</span> {}

<span class="comment">// your resource can be anything that can be safely stored in a `Arc`</span>
<span class="comment">// in this example, it is a vector of scores with a user name</span>
<span class="kw">struct</span> <span class="ident">HighScores</span>(<span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">Score</span><span class="op">&gt;</span>);

<span class="kw">struct</span> <span class="ident">Score</span> {
    <span class="ident">score</span>: <span class="ident">u32</span>,
    <span class="ident">user</span>: <span class="ident">String</span>
}

<span class="kw">let</span> <span class="ident">score_board</span> <span class="op">=</span> <span class="ident">HighScores</span>(<span class="ident">Vec</span>::<span class="ident">new</span>());
<span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;assets/&quot;</span>, <span class="ident">NullState</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to initialize&quot;</span>)
    .<span class="ident">with_resource</span>(<span class="ident">score_board</span>);
</pre>
</div><h4 id='method.with_barrier' class="method"><span id='with_barrier.v' class='invisible'><code>pub fn <a href='#method.with_barrier' class='fnname'>with_barrier</a>(self) -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#482-485' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Inserts a barrier which assures that all systems added before the
barrier are executed before the ones after this barrier.</p>

<p>Does nothing if there were no systems added since the last call to
<code>with_barrier()</code>. Thread-local systems are not affected by barriers;
they&#39;re always executed at the end.</p>

<h1 id='returns-3' class='section-header'><a href='#returns-3'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it.</p>

<h1 id='examples-3' class='section-header'><a href='#examples-3'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">ecs</span>::<span class="ident">System</span>;

<span class="kw">struct</span> <span class="ident">NullState</span>;
<span class="kw">impl</span> <span class="ident">State</span> <span class="kw">for</span> <span class="ident">NullState</span> {}

<span class="kw">struct</span> <span class="ident">NopSystem</span>;
<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">System</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">NopSystem</span> {
    <span class="kw">type</span> <span class="ident">SystemData</span> <span class="op">=</span> ();
    <span class="kw">fn</span> <span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, (): <span class="self">Self</span>::<span class="ident">SystemData</span>) {}
}

<span class="comment">// Three systems are added in this example. The &quot;tabby cat&quot; &amp; &quot;tom cat&quot;</span>
<span class="comment">// systems will both run in parallel. Only after both cat systems have</span>
<span class="comment">// run is the &quot;doggo&quot; system permitted to run them.</span>
<span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;assets/&quot;</span>, <span class="ident">NullState</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to initialize&quot;</span>)
    .<span class="ident">with</span>(<span class="ident">NopSystem</span>, <span class="string">&quot;tabby cat&quot;</span>, <span class="kw-2">&amp;</span>[])
    .<span class="ident">with</span>(<span class="ident">NopSystem</span>, <span class="string">&quot;tom cat&quot;</span>, <span class="kw-2">&amp;</span>[])
    .<span class="ident">with_barrier</span>()
    .<span class="ident">with</span>(<span class="ident">NopSystem</span>, <span class="string">&quot;doggo&quot;</span>, <span class="kw-2">&amp;</span>[]);</pre>
</div><h4 id='method.with' class="method"><span id='with.v' class='invisible'><code>pub fn <a href='#method.with' class='fnname'>with</a>&lt;S&gt;(self, system: S, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, dependencies: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>&amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: System&lt;'c&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'a,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#542-548' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Adds a given system to the game loop.</p>

<p><strong>Note:</strong> all dependencies must be added before you add the system.</p>

<h1 id='parameters-2' class='section-header'><a href='#parameters-2'>Parameters</a></h1>
<ul>
<li><code>system</code>: The system that is to be added to the game loop.</li>
<li><code>name</code>: A unique string to identify the system by. This is used for
    dependency tracking. This name may be empty <code>&quot;&quot;</code> string in which
    case it cannot be referenced as a dependency.</li>
<li><code>dependencies</code>: A list of named system that <em>must</em> have completed running
            before this system is permitted to run.
            This may be an empty list if there is no dependencies.</li>
</ul>

<h1 id='returns-4' class='section-header'><a href='#returns-4'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it.</p>

<h1 id='type-parameters-3' class='section-header'><a href='#type-parameters-3'>Type Parameters</a></h1>
<ul>
<li><code>S</code>: A type that implements the <code>System</code> trait.</li>
</ul>

<h1 id='panics' class='section-header'><a href='#panics'>Panics</a></h1>
<p>If two system are added that share an identical name, this function will panic.
Empty names are permitted, and this function will not panic if more then two are added.</p>

<p>If a dependency is referenced (by name), but has not previously been added this
function will panic.</p>

<h1 id='examples-4' class='section-header'><a href='#examples-4'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">ecs</span>::<span class="ident">System</span>;

<span class="kw">struct</span> <span class="ident">NullState</span>;
<span class="kw">impl</span> <span class="ident">State</span> <span class="kw">for</span> <span class="ident">NullState</span> {}

<span class="kw">struct</span> <span class="ident">NopSystem</span>;
<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">System</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">NopSystem</span> {
    <span class="kw">type</span> <span class="ident">SystemData</span> <span class="op">=</span> ();
    <span class="kw">fn</span> <span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, _: <span class="self">Self</span>::<span class="ident">SystemData</span>) {}
}

<span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;assets/&quot;</span>, <span class="ident">NullState</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to initialize&quot;</span>)
    <span class="comment">// This will add the &quot;foo&quot; system to the game loop, in this case</span>
    <span class="comment">// the &quot;foo&quot; system will not depend on any systems.</span>
    .<span class="ident">with</span>(<span class="ident">NopSystem</span>, <span class="string">&quot;foo&quot;</span>, <span class="kw-2">&amp;</span>[])
    <span class="comment">// The &quot;bar&quot; system will only run after the &quot;foo&quot; system has completed</span>
    .<span class="ident">with</span>(<span class="ident">NopSystem</span>, <span class="string">&quot;bar&quot;</span>, <span class="kw-2">&amp;</span>[<span class="string">&quot;foo&quot;</span>])
    <span class="comment">// It is legal to register a system with an empty name</span>
    .<span class="ident">with</span>(<span class="ident">NopSystem</span>, <span class="string">&quot;&quot;</span>, <span class="kw-2">&amp;</span>[]);</pre>
</div><h4 id='method.with_thread_local' class="method"><span id='with_thread_local.v' class='invisible'><code>pub fn <a href='#method.with_thread_local' class='fnname'>with_thread_local</a>&lt;S&gt;(self, system: S) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: System&lt;'c&gt; + 'b,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#592-598' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add a given thread-local system to the game loop.</p>

<p>A thread-local system is one that <em>must</em> run on the main thread of the
game. A thread-local system would be necessary typically to work
around vendor APIs that have thread dependent designs; an example
being OpenGL which uses a thread-local state machine to function.</p>

<p>All thread-local systems are executed sequentially after all
non-thread-local systems.</p>

<h1 id='parameters-3' class='section-header'><a href='#parameters-3'>Parameters</a></h1>
<ul>
<li><code>system</code>: The system that is to be added to the game loop.</li>
</ul>

<h1 id='returns-5' class='section-header'><a href='#returns-5'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it.</p>

<h1 id='type-parameters-4' class='section-header'><a href='#type-parameters-4'>Type Parameters</a></h1>
<ul>
<li><code>S</code>: A type that implements the <code>System</code> trait.</li>
</ul>

<h1 id='examples-5' class='section-header'><a href='#examples-5'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">ecs</span>::<span class="ident">System</span>;

<span class="kw">struct</span> <span class="ident">NullState</span>;
<span class="kw">impl</span> <span class="ident">State</span> <span class="kw">for</span> <span class="ident">NullState</span> {}

<span class="kw">struct</span> <span class="ident">NopSystem</span>;
<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">System</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">NopSystem</span> {
    <span class="kw">type</span> <span class="ident">SystemData</span> <span class="op">=</span> ();
    <span class="kw">fn</span> <span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, _: <span class="self">Self</span>::<span class="ident">SystemData</span>) {}
}

<span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;assets/&quot;</span>, <span class="ident">NullState</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to initialize&quot;</span>)
    <span class="comment">// the Nop system is registered here</span>
    .<span class="ident">with_thread_local</span>(<span class="ident">NopSystem</span>);</pre>
</div><h4 id='method.with_local' class="method"><span id='with_local.v' class='invisible'><code>pub fn <a href='#method.with_local' class='fnname'>with_local</a>&lt;S&gt;(self, system: S) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: RunNow&lt;'c&gt; + 'b,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#634-640' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add a local <code>RunNow</code> system.</p>

<p>The added system will be dispatched after all normal
and thread local systems. This is special because it does
accept types implementing only <code>RunNow</code>, but not
<code>System</code>, which is needed for e.g. the <code>RenderSystem</code>.</p>

<h1 id='examples-6' class='section-header'><a href='#examples-6'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">core</span>::<span class="ident">transform</span>::<span class="ident">Transform</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">renderer</span>::<span class="kw-2">*</span>;

<span class="kw">let</span> <span class="ident">pipe</span> <span class="op">=</span> <span class="ident">Pipeline</span>::<span class="ident">build</span>().<span class="ident">with_stage</span>(
    <span class="ident">Stage</span>::<span class="ident">with_backbuffer</span>()
        .<span class="ident">clear_target</span>([<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>], <span class="number">1.0</span>)
        .<span class="ident">with_pass</span>(<span class="ident">DrawShaded</span>::<span class="op">&lt;</span><span class="ident">PosNormTex</span><span class="op">&gt;</span>::<span class="ident">new</span>()),
);

<span class="kw">let</span> <span class="ident">config</span> <span class="op">=</span> <span class="ident">DisplayConfig</span>::<span class="ident">load</span>(<span class="string">&quot;config_path.ron&quot;</span>);

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">game</span> <span class="op">=</span> <span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;resources/&quot;</span>, <span class="ident">Example</span>)<span class="question-mark">?</span>
.<span class="ident">with_bundle</span>(<span class="ident">RenderBundle</span>::<span class="ident">new</span>())<span class="question-mark">?</span>
.<span class="ident">with_local</span>(<span class="ident">RenderSystem</span>::<span class="ident">build</span>(<span class="ident">pipe</span>, <span class="prelude-val">Some</span>(<span class="ident">config</span>))<span class="question-mark">?</span>)
.<span class="ident">build</span>()<span class="question-mark">?</span>;</pre>
</div><h4 id='method.with_bundle' class="method"><span id='with_bundle.v' class='invisible'><code>pub fn <a href='#method.with_bundle' class='fnname'>with_bundle</a>&lt;B&gt;(self, bundle: B) -&gt; <a class="type" href="../amethyst/type.Result.html" title="type amethyst::Result">Result</a>&lt;Self&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;B: <a class="trait" href="../amethyst_core/bundle/trait.ECSBundle.html" title="trait amethyst_core::bundle::ECSBundle">ECSBundle</a>&lt;'a, 'b&gt;,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#662-670' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add a given ECS bundle to the game loop.</p>

<p>A bundle is a container for registering a bunch of ECS systems and their dependent
resources and components.</p>

<h1 id='parameters-4' class='section-header'><a href='#parameters-4'>Parameters</a></h1>
<ul>
<li><code>bundle</code>: The bundle to add</li>
</ul>

<h1 id='returns-6' class='section-header'><a href='#returns-6'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it, this is
wrapped in a <code>Result</code>.</p>

<h1 id='errors-1' class='section-header'><a href='#errors-1'>Errors</a></h1>
<p>This function creates systems and resources, which use any number of dependent
crates or APIs, which could result in any number of errors.
See each individual bundle for a description of the errors it could produce.</p>
</div><h4 id='method.with_source' class="method"><span id='with_source.v' class='invisible'><code>pub fn <a href='#method.with_source' class='fnname'>with_source</a>&lt;I, S&gt;(self, name: I, store: S) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../amethyst_assets/source/trait.Source.html" title="trait amethyst_assets::source::Source">Source</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#721-731' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Register an asset store with the loader logic of the Application.</p>

<p>If the asset store exists, that shares a name with the new store the net
effect will be a replacement of the older store with the new one.
No warning or panic will result from this action.</p>

<h1 id='parameters-5' class='section-header'><a href='#parameters-5'>Parameters</a></h1>
<ul>
<li><code>name</code>: A unique name or key to identify the asset storage location. <code>name</code>
      is used later to specify where the asset should be loaded from.</li>
<li><code>store</code>: The asset store being registered.</li>
</ul>

<h1 id='type-parameters-5' class='section-header'><a href='#type-parameters-5'>Type Parameters</a></h1>
<ul>
<li><code>I</code>: A <code>String</code>, or a type that can be converted into a<code>String</code>.</li>
<li><code>S</code>: A <code>Store</code> asset loader. Typically this is a <a href="../amethyst_assets/struct.Directory.html"><code>Directory</code></a>.</li>
</ul>

<h1 id='returns-7' class='section-header'><a href='#returns-7'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it.</p>

<h1 id='examples-7' class='section-header'><a href='#examples-7'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">assets</span>::{<span class="ident">Directory</span>, <span class="ident">Loader</span>};
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">renderer</span>::<span class="ident">ObjFormat</span>;
<span class="kw">use</span> <span class="ident">amethyst</span>::<span class="ident">ecs</span>::<span class="ident">World</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">game</span> <span class="op">=</span> <span class="ident">Application</span>::<span class="ident">build</span>(<span class="string">&quot;assets/&quot;</span>, <span class="ident">LoadingState</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to initialize&quot;</span>)
    <span class="comment">// Register the directory &quot;custom_directory&quot; under the name &quot;resources&quot;.</span>
    .<span class="ident">with_source</span>(<span class="string">&quot;custom_store&quot;</span>, <span class="ident">Directory</span>::<span class="ident">new</span>(<span class="string">&quot;custom_directory&quot;</span>))
    .<span class="ident">build</span>()
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to build game&quot;</span>)
    .<span class="ident">run</span>();

<span class="kw">struct</span> <span class="ident">LoadingState</span>;
<span class="kw">impl</span> <span class="ident">State</span> <span class="kw">for</span> <span class="ident">LoadingState</span> {
    <span class="kw">fn</span> <span class="ident">on_start</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">world</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">World</span>) {
        <span class="kw">let</span> <span class="ident">storage</span> <span class="op">=</span> <span class="ident">world</span>.<span class="ident">read_resource</span>();

        <span class="kw">let</span> <span class="ident">loader</span> <span class="op">=</span> <span class="ident">world</span>.<span class="ident">read_resource</span>::<span class="op">&lt;</span><span class="ident">Loader</span><span class="op">&gt;</span>();
        <span class="comment">// Load a teapot mesh from the directory that registered above.</span>
        <span class="kw">let</span> <span class="ident">mesh</span> <span class="op">=</span> <span class="ident">loader</span>.<span class="ident">load_from</span>(<span class="string">&quot;teapot&quot;</span>, <span class="ident">ObjFormat</span>, (), <span class="string">&quot;custom_directory&quot;</span>,
                                    (), <span class="kw-2">&amp;</span><span class="ident">storage</span>);
    }
}</pre>
</div><h4 id='method.with_frame_limit' class="method"><span id='with_frame_limit.v' class='invisible'><code>pub fn <a href='#method.with_frame_limit' class='fnname'>with_frame_limit</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;strategy: <a class="enum" href="../amethyst_core/frame_limiter/enum.FrameRateLimitStrategy.html" title="enum amethyst_core::frame_limiter::FrameRateLimitStrategy">FrameRateLimitStrategy</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;max_fps: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><br>) -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#743-747' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the maximum frames per second of this game.</p>

<h1 id='parameters-6' class='section-header'><a href='#parameters-6'>Parameters</a></h1>
<p><code>strategy</code>: the frame limit strategy to use
<code>max_fps</code>: the maximum frames per second this game will run at.</p>

<h1 id='returns-8' class='section-header'><a href='#returns-8'>Returns</a></h1>
<p>This function returns the ApplicationBuilder after modifying it.</p>
</div><h4 id='method.with_frame_limit_config' class="method"><span id='with_frame_limit_config.v' class='invisible'><code>pub fn <a href='#method.with_frame_limit_config' class='fnname'>with_frame_limit_config</a>(self, config: <a class="struct" href="../amethyst_core/frame_limiter/struct.FrameRateLimitConfig.html" title="struct amethyst_core::frame_limiter::FrameRateLimitConfig">FrameRateLimitConfig</a>) -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#758-761' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the maximum frames per second of this game, based on the given config.</p>

<h1 id='parameters-7' class='section-header'><a href='#parameters-7'>Parameters</a></h1>
<p><code>config</code>: the frame limiter config</p>

<h1 id='returns-9' class='section-header'><a href='#returns-9'>Returns</a></h1>
<p>This function returns the ApplicationBuilder after modifying it.</p>
</div><h4 id='method.with_fixed_step_length' class="method"><span id='with_fixed_step_length.v' class='invisible'><code>pub fn <a href='#method.with_fixed_step_length' class='fnname'>with_fixed_step_length</a>(self, duration: <a class="struct" href="https://doc.rust-lang.org/nightly/std/time/duration/struct.Duration.html" title="struct std::time::duration::Duration">Duration</a>) -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#772-775' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the duration between fixed updates, defaults to one sixtieth of a second.</p>

<h1 id='parameters-8' class='section-header'><a href='#parameters-8'>Parameters</a></h1>
<p><code>duration</code>: The duration between fixed updates.</p>

<h1 id='returns-10' class='section-header'><a href='#returns-10'>Returns</a></h1>
<p>This function returns the ApplicationBuilder after modifying it.</p>
</div><h4 id='method.ignore_window_close' class="method"><span id='ignore_window_close.v' class='invisible'><code>pub fn <a href='#method.ignore_window_close' class='fnname'>ignore_window_close</a>(self, ignore: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>) -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#788-791' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Tells the resulting application window to ignore close events if ignore is true.
This will make your game window unresponsive to operating system close commands.
Use with caution.</p>

<h1 id='parameters-9' class='section-header'><a href='#parameters-9'>Parameters</a></h1>
<p><code>ignore</code>: Whether or not the window should ignore these events.  False by default.</p>

<h1 id='returns-11' class='section-header'><a href='#returns-11'>Returns</a></h1>
<p>This function returns the ApplicationBuilder after modifying it.</p>
</div><h4 id='method.register_asset' class="method"><span id='register_asset.v' class='invisible'><code>pub fn <a href='#method.register_asset' class='fnname'>register_asset</a>&lt;A&gt;(self) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="../amethyst_assets/asset/trait.Asset.html" title="trait amethyst_assets::asset::Asset">Asset</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#818-828' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Register a new asset type with the Application. All required components
related to the storage of this asset type will be registered. Since
Amethyst uses AssetFutures to allow for async content loading, Amethyst
needs to have a system that translates AssetFutures into Components as
they resolve. Amethyst registers a system to accomplish this.</p>

<h1 id='parameters-10' class='section-header'><a href='#parameters-10'>Parameters</a></h1>
<p><code>make_context</code>: A closure that returns an initialized <code>Asset::Context</code>
                object. This is given the a reference to the world object
                to allow it to find any resources previously registered.</p>

<h1 id='type-parameters-6' class='section-header'><a href='#type-parameters-6'>Type Parameters</a></h1>
<ul>
<li><code>A</code>: The asset type, an <code>Asset</code> in reference to Amethyst is a component
   that implements the <a href="../amethyst_assets/trait.Asset.html"><code>Asset</code></a> trait.</li>
<li><code>F</code>: A function that returns the <code>Asset::Context</code> context object.</li>
</ul>

<h1 id='returns-12' class='section-header'><a href='#returns-12'>Returns</a></h1>
<p>This function returns ApplicationBuilder after it has modified it.</p>
</div><h4 id='method.build' class="method"><span id='build.v' class='invisible'><code>pub fn <a href='#method.build' class='fnname'>build</a>(self) -&gt; <a class="type" href="../amethyst/type.Result.html" title="type amethyst::Result">Result</a>&lt;<a class="struct" href="../amethyst/struct.Application.html" title="struct amethyst::Application">Application</a>&lt;'a, 'b&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../amethyst/prelude/trait.State.html" title="trait amethyst::prelude::State">State</a> + 'a,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/amethyst/app.rs.html#850-873' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Build an <code>Application</code> object using the <code>ApplicationBuilder</code> as configured.</p>

<h1 id='returns-13' class='section-header'><a href='#returns-13'>Returns</a></h1>
<p>This function returns an Application object wrapped in the Result type.</p>

<h1 id='errors-2' class='section-header'><a href='#errors-2'>Errors</a></h1>
<p>This function currently will not produce an error, returning a result
type was strictly for future possibilities.</p>

<h1 id='notes' class='section-header'><a href='#notes'>Notes</a></h1>
<p>If the &quot;profiler&quot; feature is used, this function will register the thread
that executed this function as the &quot;Main&quot; thread.</p>

<h1 id='examples-8' class='section-header'><a href='#examples-8'>Examples</a></h1>
<p>See the <a href="struct.ApplicationBuilder.html#examples">example show for <code>ApplicationBuilder::new()</code></a>
for an example on how this method is used.</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "amethyst";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>